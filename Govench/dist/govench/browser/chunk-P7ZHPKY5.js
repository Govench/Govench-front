import{a as V}from"./chunk-2AWEGMEM.js";import{a as D,b as L}from"./chunk-CRB5KXEI.js";import{A as w,D as M,F as R,K as j,L as k,M as I,N as P,j as C,k as S,q as E,t as G,u as y,v as s,w as F,x}from"./chunk-6HBBM4ZE.js";import"./chunk-WXI33M2S.js";import{$ as c,Bb as H,Jb as h,Pa as a,cb as p,da as v,gb as l,kb as r,lb as e,mb as d,oc as b,pb as g,qc as _,zb as i}from"./chunk-S36E2RBU.js";function Z(n,o){n&1&&(r(0,"span"),i(1," El correo es obligatorio. "),e())}function J(n,o){n&1&&(r(0,"span"),i(1," Introduzca un correo v\xE1lido. "),e())}function K(n,o){n&1&&(r(0,"span"),i(1," La contrase\xF1a es obligatoria. "),e())}function Q(n,o){n&1&&(r(0,"span"),i(1," Su contrase\xF1a no puede ser menor a 8 caracteres. "),e())}var O=class n{loginform;fb=c(k);router=c(C);snackbar=c(D);authService=c(E);constructor(){this.loginform=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8)]]})}controlHasError(o,m){return this.loginform.controls[o].hasError(m)}onSumbit(){if(this.loginform.invalid)return;let o=this.loginform.value;this.authService.login(o).subscribe({next:()=>{this.showSnackBar("Inicio de sesion exitoso"),this.authService.getUser()?.role==="ROLE_ORGANIZER"?this.router.navigateByUrl("/organizer/cuenta/profile"):this.router.navigateByUrl("/participant/cuenta/profile")},error:m=>{this.showSnackBar("Error en el inicio de sesion. Por favor, intenta de nuevo.")}})}navigateToRecovery(){this.router.navigate(["/password/recovery"])}showSnackBar(o){this.snackbar.open(o,"Close",{duration:2e3,verticalPosition:"top"})}static \u0275fac=function(m){return new(m||n)};static \u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[h],decls:36,vars:8,consts:[[1,"p-3"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-center","bg-1","text-light","subtitle","m-2","p-2"],[1,"caja","d-flex","align-items-center"],["routerLink","/inicio",1,"fa-solid","fa-angle-left","fs-3"],[1,"col-8","text-center"],["routerLink","/auth/register",1,"link-light","link-offset-2","link-underline-opacity-25","link-underline-opacity-100-hover"],[1,"caja"],[1,"container","col-md-4","mt-1","formulario",3,"ngSubmit","formGroup"],[1,"row"],["for","email"],["id","email","formControlName","email","type","email","placeholder","Ingrese su email",1,"input-c"],[1,"alert","alert-danger","mt-2",3,"hidden"],[4,"ngIf"],[1,"row","mt-2"],["for","password"],["id","password","formControlName","password","type","password","placeholder","Ingrese su contrase\xF1a",1,"input-c"],[1,"row","text-center","m-3"],[1,"btn-link",2,"cursor","pointer",3,"click"],["type","submit",1,"btn","rounded-pill","p-2",3,"disabled"]],template:function(m,t){if(m&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"i",4),e(),r(5,"div",5)(6,"h1"),i(7,"Iniciar Sesi\xF3n"),e(),r(8,"p"),i(9,"\xBFNo tienes una cuenta? "),r(10,"a",6),i(11,"Crear"),e()()(),d(12,"div",7),e()(),r(13,"form",8),g("ngSubmit",function(){return t.onSumbit()}),r(14,"div",9)(15,"label",10),i(16,"Correo:"),e(),d(17,"input",11),r(18,"div",12),p(19,Z,2,0,"span",13)(20,J,2,0,"span",13),e()(),r(21,"div",14)(22,"label",15),i(23,"Contrase\xF1a:"),e(),d(24,"input",16),r(25,"div",12),p(26,K,2,0,"span",13)(27,Q,2,0,"span",13),e()(),r(28,"div",17)(29,"p"),i(30,"\xBFOlvido su contrase\xF1a? "),r(31,"a",18),g("click",function(){return t.navigateToRecovery()}),i(32,"Recuperar contrase\xF1a"),e()()(),r(33,"div",9)(34,"button",19),i(35,"Iniciar Sesi\xF3n"),e()()()()),m&2){let u,T,q,f,A,B;a(13),l("formGroup",t.loginform),a(5),l("hidden",((u=t.loginform.get("email"))==null?null:u.valid)||((u=t.loginform.get("email"))==null?null:u.pristine)),a(),l("ngIf",(T=t.loginform.get("email"))==null||T.errors==null?null:T.errors.required),a(),l("ngIf",(q=t.loginform.get("email"))==null||q.errors==null?null:q.errors.email),a(5),l("hidden",((f=t.loginform.get("password"))==null?null:f.valid)||((f=t.loginform.get("password"))==null?null:f.pristine)),a(),l("ngIf",(A=t.loginform.get("password"))==null||A.errors==null?null:A.errors.required),a(),l("ngIf",(B=t.loginform.get("password"))==null||B.errors==null?null:B.errors.minlength),a(7),l("disabled",t.loginform.invalid)}},dependencies:[_,b,I,w,y,F,x,P,M,R,S,L],styles:['@charset "UTF-8";.inicio[_ngcontent-%COMP%]{min-height:60vh}.espaciado[_ngcontent-%COMP%]{height:70vh;display:flex;align-items:center;align-content:center;flex-direction:column}.bg-1[_ngcontent-%COMP%]{background:linear-gradient(90deg,#084aaa,#010635)}.input-c[_ngcontent-%COMP%]{width:100%;padding:8px;border:2px solid #084AAA;border-radius:50px;font-size:16px}.subtitle[_ngcontent-%COMP%]{border-radius:50px}.caja[_ngcontent-%COMP%]{width:10%}.caja[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.formulario[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:24px;color:#084aaa;padding:10px}.formulario[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#084aaa;color:#fff;border:none;font-size:20px;transition:background-color .3s}.formulario[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#010635;color:#fff}.fa-solid[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out}.fa-solid[_ngcontent-%COMP%]:hover{transform:scale(2.2)}']})};function W(n,o){n&1&&(r(0,"div",34),i(1,"El nombre es obligatorio."),e())}function X(n,o){n&1&&(r(0,"div",34),i(1,"Solo se permiten letras en el nombre."),e())}function ee(n,o){n&1&&(r(0,"div",34),i(1," El nombre debe ser minimo de 2 caracteres"),e())}function te(n,o){n&1&&(r(0,"div",34),i(1,"El apellido es obligatorio."),e())}function re(n,o){n&1&&(r(0,"div",34),i(1,"Solo se permiten letras en el apellido."),e())}function ie(n,o){n&1&&(r(0,"div",34),i(1," El apellido debe ser minimo de 2 caracteres"),e())}function ne(n,o){n&1&&(r(0,"div",34),i(1," El correo es obligatorio. "),e())}function oe(n,o){n&1&&(r(0,"div",34),i(1," Introduzca un correo v\xE1lido. "),e())}function ae(n,o){n&1&&(r(0,"div",34),i(1,"La contrase\xF1a es obligatoria."),e())}function le(n,o){n&1&&(r(0,"div",34),i(1,"Las contrase\xF1as no coinciden."),e())}function se(n,o){n&1&&(r(0,"div",34),i(1,"La fecha de nacimiento es obligatoria. "),e())}function me(n,o){n&1&&(r(0,"div",34),i(1,"La fecha no puede ser futura. "),e())}function de(n,o){n&1&&(r(0,"div",34),i(1," Debe ser al menos 10 a\xF1os atr\xE1s. "),e())}var N=class n{registerForm;maxDate;minDate;fb=c(k);router=c(C);snackbar=c(D);authService=c(E);constructor(){this.registerForm=this.fb.group({name:["",[s.required,s.minLength(2),s.maxLength(100)]],lastname:["",[s.required,s.minLength(2)]],birthday:["",[s.required]],gender:["",s.required],profileDesc:["",s.maxLength(250)],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8)]],confirmPassword:["",[s.required]],termsAccepted:[!1,s.requiredTrue]},{validators:this.passwordsMatchValidator})}formatDate(o){let m=o.getFullYear(),t=(o.getMonth()+1).toString().padStart(2,"0"),u=o.getDate().toString().padStart(2,"0");return`${m}-${t}-${u}`}passwordsMatchValidator(o){let m=o.get("password")?.value,t=o.get("confirmPassword")?.value;return m===t?null:{passwordMismatch:!0}}controlHasError(o,m){return this.registerForm.controls[o]?.hasError(m)}onSubmit(){if(this.registerForm.valid){let o={name:this.registerForm.value.name,lastname:this.registerForm.value.lastname,birthday:this.registerForm.value.birthday,gender:this.registerForm.value.gender,profileDesc:this.registerForm.value.profileDesc,email:this.registerForm.value.email,password:this.registerForm.value.password};this.authService.register(o).subscribe({next:()=>{this.showSnackBar("Usuario creado correctamente"),this.router.navigate(["auth/login"])},error:()=>{this.showSnackBar("Ocurri\xF3 un error registrando la cuenta")}})}}showSnackBar(o){this.snackbar.open(o,"Cerrar",{duration:2e3,verticalPosition:"top"})}static \u0275fac=function(m){return new(m||n)};static \u0275cmp=v({type:n,selectors:[["app-register"]],standalone:!0,features:[h],decls:72,vars:18,consts:[[1,"p-3"],[1,"container","mt-5","mb-5"],[1,"row","justify-content-center","align-items-center","bg-1","text-light","subtitle","m-2","p-3"],[1,"col-auto","caja","d-flex","align-items-center"],["routerLink","/auth/login",1,"fa-solid","fa-angle-left","fs-4","text-light"],[1,"col-12","col-md-8","text-center"],["routerLink","/auth/login",1,"link-light","text-decoration-underline"],[1,"container","col-md-8","mt-1","formulario",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],[1,"col-md-6","mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text","placeholder","Ingrese su nombre",1,"input-c","form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastname",1,"form-label"],["id","lastname","formControlName","lastname","type","text","placeholder","Ingrese su apellido",1,"input-c","form-control"],[1,"mb-3"],["for","email",1,"form-label"],["id","email","formControlName","email","type","email","placeholder","Ingrese su correo electr\xF3nico",1,"input-c","form-control"],["for","password",1,"form-label"],["id","password","formControlName","password","type","password","placeholder","Ingrese su contrase\xF1a",1,"input-c","form-control"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword","type","password","placeholder","Ingrese nuevamente su contrase\xF1a",1,"input-c","form-control"],[1,"row","mb-3"],["for","birthday"],["id","birthday","formControlName","birthday","type","date","placeholder","Selecciones su fecha de nacimiento",1,"input-c","p-2",3,"min","max"],["for","profileDesc",1,"form-label"],["id","profileDesc","formControlName","profileDesc","rows","3","maxlength","250","placeholder","Cu\xE9ntanos algo sobre ti",1,"input-c","form-control"],[1,"text-end"],[1,"col-12","mb-3","text-center"],["type","checkbox","formControlName","termsAccepted"],["href","#"],[1,"col-12","text-center"],["id","regiterBtn","type","submit",1,"btn","btn-primary","rounded-pill","px-4","py-2",3,"disabled"],[1,"alert","alert-danger"]],template:function(m,t){m&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"i",4),e(),r(5,"div",5)(6,"h1"),i(7,"Crear Cuenta"),e(),r(8,"p"),i(9," \xBFYa tienes una cuenta? "),r(10,"a",6),i(11,"Iniciar Sesi\xF3n"),e()()()()(),r(12,"form",7),g("ngSubmit",function(){return t.onSubmit()}),r(13,"div",8)(14,"div",9)(15,"div",8)(16,"div",10)(17,"label",11),i(18,"Nombre"),e(),d(19,"input",12),p(20,W,2,0,"div",13)(21,X,2,0,"div",13)(22,ee,2,0,"div",13),e(),r(23,"div",10)(24,"label",14),i(25,"Apellido"),e(),d(26,"input",15),p(27,te,2,0,"div",13)(28,re,2,0,"div",13)(29,ie,2,0,"div",13),e()(),r(30,"div",16)(31,"label",17),i(32,"Correo"),e(),d(33,"input",18),p(34,ne,2,0,"div",13)(35,oe,2,0,"div",13),e(),r(36,"div",16)(37,"label",19),i(38,"Contrase\xF1a"),e(),d(39,"input",20),p(40,ae,2,0,"div",13),e(),r(41,"div",16)(42,"label",21),i(43,"Confirmar contrase\xF1a"),e(),d(44,"input",22),p(45,le,2,0,"div",13),e()(),r(46,"div",9)(47,"div",23)(48,"label",24),i(49,"Fecha de nacimiento"),e(),d(50,"input",25),p(51,se,2,0,"div",13)(52,me,2,0,"div",13)(53,de,2,0,"div",13),e(),r(54,"div",23)(55,"label",26),i(56,"Descripci\xF3n de perfil"),e(),d(57,"textarea",27),r(58,"p",28),i(59),e()()()(),r(60,"div",29),d(61,"input",30),i(62," He le\xEDdo y acepto los "),r(63,"a",31),i(64,"t\xE9rminos y condiciones"),e(),i(65," y "),r(66,"a",31),i(67,"pol\xEDticas de privacidad"),e(),i(68,". "),e(),r(69,"div",32)(70,"button",33),i(71,"Registrarse"),e()()()()),m&2&&(a(12),l("formGroup",t.registerForm),a(8),l("ngIf",t.controlHasError("name","required")&&t.registerForm.controls.name.touched),a(),l("ngIf",t.controlHasError("name","pattern")&&t.registerForm.controls.name.touched),a(),l("ngIf",t.controlHasError("name","minlength")&&t.registerForm.controls.name.touched),a(5),l("ngIf",t.controlHasError("lastname","required")&&t.registerForm.controls.lastname.touched),a(),l("ngIf",t.controlHasError("lastname","pattern")&&t.registerForm.controls.lastname.touched),a(),l("ngIf",t.controlHasError("lastname","minlength")&&t.registerForm.controls.lastname.touched),a(5),l("ngIf",t.controlHasError("email","required")&&t.registerForm.controls.email.touched),a(),l("ngIf",t.controlHasError("email","email")&&t.registerForm.controls.email.touched),a(5),l("ngIf",t.controlHasError("password","required")&&t.registerForm.controls.password.touched),a(5),l("ngIf",t.registerForm.errors==null?null:t.registerForm.errors.passwordMismatch),a(5),l("min","1940-12-31")("max","2014-12-31"),a(),l("ngIf",t.controlHasError("birthday","required")&&t.registerForm.controls.birthday.touched),a(),l("ngIf",t.controlHasError("birthday","invalidDate")&&t.registerForm.controls.birthday.touched),a(),l("ngIf",t.controlHasError("birthday","minDateError")&&t.registerForm.controls.birthday.touched),a(6),H("",(t.registerForm.value.profileDesc==null?null:t.registerForm.value.profileDesc.length)||0,"/250"),a(11),l("disabled",t.registerForm.invalid))},dependencies:[_,b,I,w,y,G,F,x,j,P,M,R,S,L],styles:[".bg-1[_ngcontent-%COMP%]{background:linear-gradient(90deg,#084aaa,#010635)}.input-c[_ngcontent-%COMP%]{border:2px solid #084AAA;border-radius:93px;font-size:16px}.subtitle[_ngcontent-%COMP%]{border-radius:116px}#profileDesc[_ngcontent-%COMP%]{border-radius:15px}.caja[_ngcontent-%COMP%]{width:10%;max-width:60px;padding:30px}.fa-solid[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out}.fa-solid[_ngcontent-%COMP%]:hover{transform:scale(2.2)}#regiterBtn[_ngcontent-%COMP%]{background-color:#084aaa;color:#fff;font-size:1.2em;transition:background-color .3s;width:20%}"]})};var Le=[{path:"",component:V,children:[{path:"login",component:O},{path:"register",component:N}]}];export{Le as authRoutes};
