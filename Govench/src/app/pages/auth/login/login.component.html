
<div class="p-3">
    <div class="container mt-5 mb-5">
        <div class="row d-flex justify-content-center bg-1 text-light subtitle m-2 p-2">
                <div class="caja d-flex align-items-center">
                    <i class="fa-solid fa-angle-left fs-3" routerLink="/inicio"></i>
                </div>
                <div class="col-8 text-center">
                    <h1>Iniciar Sesión</h1>
                    <p>¿No tienes una cuenta? <a routerLink="/auth/register" class="link-light link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">Crear</a></p>
                </div>
                <div class="caja">
                    
                </div>
        </div>
    </div>
    
    <form [formGroup]="loginform" (ngSubmit)="onSumbit()" class="container col-md-4 mt-1 formulario">

        <div class="row">
            <label for="email">Correo:</label>
            <input id="email" class="input-c " formControlName="email" type="email" placeholder="Ingrese su email">
            <!-- <div *ngIf="controlHasError('email','required')"  class="alert alert-danger mt-2" [hidden]= "loginform.pristine">
                El correo es obligatorio.
            </div>
            <div *ngIf="loginform.get('email')?.errors?.['email'] && !loginform.pristine" class="alert alert-danger mt-2">
                Introduzca un correo válido.
            </div> -->
            <div class="alert alert-danger mt-2" [hidden]="loginform.get('email')?.valid || loginform.get('email')?.pristine">
                <span *ngIf="loginform.get('email')?.errors?.['required']">
                    El correo es obligatorio.
                </span>
                <span *ngIf="loginform.get('email')?.errors?.['email']">
                    Introduzca un correo válido.
                </span>
            </div>
        </div>

        <div class="row mt-2">
            <label for="password" >Contraseña:</label>
            <input id="password" class="input-c" formControlName="password" type="password" placeholder="Ingrese su contraseña">
            <!-- <div *ngIf="controlHasError('password', 'required')" class="alert alert-danger mt-2" [hidden]= "loginform.pristine">
                La contraseña es obligatoria.
            </div>
            <span *ngIf="loginform.get('password')?.errors?.['minlength'] && !loginform.pristine" class="alert alert-danger mt-2">
                Su contraseña no puede ser menor a 8 caracteress
              </span> -->
            <div class="alert alert-danger mt-2" [hidden]="loginform.get('password')?.valid || loginform.get('password')?.pristine">
                <span *ngIf="loginform.get('password')?.errors?.['required']">
                    La contraseña es obligatoria.
                </span>
                <span *ngIf="loginform.get('password')?.errors?.['minlength']">
                    Su contraseña no puede ser menor a 8 caracteres.
                </span>
            </div>
        </div>

        <div class="row text-center m-3">
            <p>¿Olvido su contraseña? <a (click)="navigateToRecovery()" class="btn-link" style="cursor: pointer;">Recuperar contraseña</a></p>
        </div>

        <div class="row">
            <button class="btn rounded-pill p-2" type="submit" [disabled]="loginform.invalid">Iniciar Sesión</button>
        </div>
        
    </form>
</div>
